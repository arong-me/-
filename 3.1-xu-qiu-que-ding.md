# 3.1　需求确定

### 3.1　需求确定 <a id="3_1&#x3000;&#x9700;&#x6C42;&#x786E;&#x5B9A;"></a>

经过大量的需求调研工作之后，手头上可能有客户提出的大量的、千奇百怪的软件需求，这些需求，有些是技术上可以实现的，有些是技术上不可以实现的，有些是管理上需要的，有些是管理上不需要的，有些是合理的，有些是不合理的，有些是一致的，有些是矛盾的，有些是在信息系统蓝图之内的，有些是在信息系统蓝图之外的，有些必需的需求却没有人提出……

作为需求分析者，如何处理这些需求呢？要牢记一点，“实现用户正确的需求”是软件设计的工作原则。这里“正确”两个字非常重要，用户所提出的需求未必都是正确的，要有一个严格的分析、甄别过程，如果用户要什么就开发什么，还需要需求分析者干什么呢？需求分析人员不能不分析需求，而只做需求的记录员。

#### 1.1. 3.1.1　认清需求 <a id="3_1_1&#x3000;&#x8BA4;&#x6E05;&#x9700;&#x6C42;"></a>

为了认清用户的需求，先要认清用户。在进行需求调研的时候，会跟企业中各种各样的人员沟通，这些人基本上都是软件未来的用户，他们的技术、知识、性格、职位、工作内容各不相同，但他们一般都有一些非常相似的地方：他们不是做软件的，他们不是搞需求分析的，他们永远不会像你希望的那样去描述需求，他们的需求是用自然语言描述的，是抽象的、概略的、随性的。将这些抽象、概略、随性的用户需求转化成具体、详细、结构化的软件需求，是需求分析的重要目标。

1.将抽象的需求具体化

在进行需求调研时会发现，用户提出自己的需求时总是不会按照你希望的路子提出来的：有的人因为对信息化管理一无所知，根本不知道你想要什么，只是为了应付领导布置的任务；有的人因为害怕承担责任，说得太具体万一软件做出来不能用怎么办呢；还有的人由于处于管理层级较高的地位，喜欢做抽象的工作布置，习惯了宏大叙事的调子……将用户抽象的需求具体化，是需求分析过程中一项相当困难的事情。

**案例：抽象的需求**

看看这些典型性抽象需求——

我想知道我的下属每天都干了什么。

抽象指数：☆

我们的客户经常抱怨我们的售后服务，但我不知道我们哪里做错了，他们究竟在抱怨什么呢？

抽象指数：☆

我想知道我们业务员的销售成绩跟绩效工资是不是有关联性，我应该给他们多少提成合适呢？

抽象指数：☆☆

我们经常发现仓库丢了东西，但我们查不到原因，我们甚至不知道究竟丢了多少。

抽象指数：☆☆

我们车间在交班时乱糟糟的，需要持续太长时间，怎么才能让他们交班快点儿呢？

抽象指数：☆☆☆

我们的生产计划老是排不好，经常有些人很闲，有些人很忙。

抽象指数：☆☆☆

我们的员工平均薪酬高于同行水平，但离职率并不低。

抽象指数：☆☆☆☆

我们的一等品率明显低于同行平均水平。

抽象指数：☆☆☆☆

我们要提高订单的准时交单率。

抽象指数：☆☆☆☆☆

我们所有的工作都要用软件管起来。

抽象指数：☆☆☆☆☆☆☆☆☆☆

相信在需求调研的过程中一定或多或少遇到过本案例中的类似需求，从严格意义上来讲，这些并不能说是需求，只能说是某种问题罢了，提出的人不是在提软件需求，而是在抛出他的问题，他期待你的工作能够解决这些问题。不要把这些抽象需求当成需求，要当成工作目标。用了软件系统后，这些问题解决得越多，工作价值越大，如果不能解决这些问题，往往说明这是个不成功的项目。有了目标，接下来要思考的是，通过什么方法才能够实现这些目标呢？这个思考的过程就是将抽象需求具体化的过程，有的时候可以引导用户思考下去提出自己的方案，有的时候只能由需求人员自己设计方案——也许这是最能体现需求分析者价值的地方。例如，案例中提到的仓库丢东西的问题，具体下去后，可以考虑，如果将仓库所有的物品进行规范编码，所有的入库、出库都需要通过软件系统处理，保证软件系统中的信息实时、正确地反映物料的流动状况，这样至少知道了仓库中“应该”有多少东西，盘点后如果丢了东西完全可以责成仓库管理员负责赔偿，从而极大提高了仓库管理员的管理责任心——那么是不是可以解决仓库丢东西的问题呢？将这种方案跟相关人员讨论决定，顺着这个路子，就可以将这个抽象需求具体化，最终能够落到实地。

2.将自然语言描述的需求结构化

用户描述需求总是非常随意的，他们使用平时正常沟通的语言（也就是自然语言）描述需求，这种需求的主要特点就是不严谨，容易有歧义，这种需求自然是不能直接让开发者处理的，开发者需要的需求是描述明确、精准、没有二义性的。需求分析者作为用户与开发者的沟通桥梁，有义务将用户用自然语言描述的需求结构化。当然，对于需求分析者来说，将需求结构化几乎贯穿于所有工作中，如功能设计、界面设计等。将用户的描述转换成更精准的语言，转换成更接近于IT人使用的语言，这才是需求结构化的第一步，使用这种方式描述的需求，虽然充满了IT术语，但只要稍加解释一般用户也能理解清楚。

**案例：将自然语言描述的需求结构化**

调研主题：如何给客户发货？

用户描述：我们会根据销售合同整理当天的发货计划（发货计划中一般包括这周需要发货的所有销售合同），跟客户确认是不是需要发货，客户一般都要求发货越快越好，但特殊情况下也会要求拖几天。确定要发货后，先到成品仓库核查产品库存，如果库存足够，就发货，如果不够，就联系客户，如果客户着急，就先发一部分过去。发货前再跟客户确认好收货地址，因为有的时候，客户会要求不同的货物送到不同的地方，虽然合同里写了收货地址，但这个地址经常会变化。

分析：用户在这里描述了根据合同发货的过程，由于是用自然语言描述的，需求就显得很模糊，这种需求需要经过结构化处理。经过进一步询问确认后，需求人员做了结构化的需求描述——

根据销售合同生成发货计划单，一天生成一个发货计划单，生成规则：交货期在今天以前或者在未来7天之内，尚未发货，并且对应商品物料有结存数量的合同。

一个发货计划单可以包括多个销售合同，一个销售合同可以对应多个发货计划单，发货计划单与销售合同的关系是多对多的关系。

发货需要发货单，销售合同支持分批发货，销售合同与发货单的关系是一对多的关系。

一个发货单支持多地址发货。

需要提供合同发货延期的处理功能。

3.注意避免理解偏差

所谓的理解偏差，主要是指需求分析者对用户所提需求没有理解到位，用户明明想表达的是这个意思，却被理解成了另外一个意思。这是一个沟通问题，说者觉得自己说得很清楚了，听者也觉得自己听得很清楚了，可偏偏双方就是没有真正理解对方。为了避免理解误差，一般可以从以下这些方面努力。

（1）提高沟通能力。为了避免理解偏差，需要提高自己的沟通能力，多从对方的立场考虑问题，当对方描述某件事时，要从对方的角度思考这些描述的内涵。同样一句话，不同的人想表达的意思可能完全不一样。举个简单的例子，同样是这句话，“我觉得我的工作太多了”，有的人的意思是“能不能给我减减负”，有的人的意思是“我的工作效率很高”，有的人意思是“羡慕我吧，我的权力很大啊”，这就要结合说这句话的人的岗位、工作职责、说话时的情境、语气等去理解。

（2）提高沟通频次。所谓提高沟通频次，就是人们常说的“多沟通”，一是要引导对方多说话，说得多了，有了更多的素材供分析，自然更容易理解这些描述的内涵；二是对不理解的或觉得理解起来有困难的内容，多向对方询问，换成你的表达方式让对方确认是不是这个意思。

（3）学习对方工作领域的知识。用户有自己的知识领域，需求分析者也有自己的知识领域，前者满脑子的业务术语，后者满脑子的IT术语，有时候两者真的很难沟通。每个人的知识面不同，要想沟通顺畅，两个人的知识面重叠的地方越多越好。因此为了能够跟用户顺利沟通，需求分析者应该积极学习相关的业务知识，学得越深，学得越宽，就越容易理解用户的描述（做久了需求分析工作的人，几乎无一例外地会成为某些业务领域的行家），对于用户而言，如果要开发信息系统，也应该积极学习IT知识，信息系统开发绝不仅仅是软件公司的责任。

当然，不管用户与需求分析者如何努力，理解偏差总是避免不了的，只有程度与范围的不同。

**案例：需求调研中的理解偏差**

某技术学校需要开发信息管理系统，小王在进行需求调研。这天，他跟学工处管后勤的李老师做了一次需求访谈，李老师说他想知道每天有哪些学生打卡晚了，哪些学生没有打卡，另外需要每周出一个考勤报表，统计本周所有考勤异常的学生。由于这一天李老师的工作很忙，这项需求听起来也很明确，小王没有做更加深入的调研，就去拜访其他用户了。

回来后，小王经过仔细分析，发现李老师的需求并没有那么简单。所谓的学生晚打卡就是上课迟到了，没有打卡就是旷课了，为了知道学生应该在什么时候打卡，在什么地点打卡，就需要知道学生的课表，需要在课表中定义学生每节课应该在什么时候、什么地点打卡，如果课表发生了变化，还需要老师及时调整课表，而学校有规定，调课是要教务处批准的。为了进一步了解排课的问题，小王又到教务处做了调研。

小王规划了学生上课考勤的解决方案：首先，需要一个排课功能，供教务处老师在每学期开学时排好一个学期所有的课程；然后，提供调课申请功能，一旦课表发生变化（如教室、教师等变化），相关老师需要使用这个功能申请调课；每节课开始半小时后，系统进行运算，得到每个班级在该课次有哪些学生迟到，哪些学生旷课；最后，提供考勤记录查询、统计功能。

小王将方案拟好后，兴冲冲地去找李老师讨论这个方案的可行性。可是，李老师问了一个问题就把小王弄蒙了：我是管后勤的，我只管学生有没有按时到宿舍就寝，你为什么跟我说这些呢？

#### 1.2. 3.1.2　控制需求 <a id="3_1_2&#x3000;&#x63A7;&#x5236;&#x9700;&#x6C42;"></a>

所有的项目都是有范围的，控制项目范围是项目管理过程中一项相当重要的工作，这项工作稍有不慎就会导致非常恶劣的后果，轻者导致活干了却没有利润，大家白忙活一场，重者导致工作量无边无际，无法交付验收，导致项目烂尾。对于软件开发项目来说，控制需求是项目范围控制工作的一部分，是相当重要的一部分。无论什么公司，无论什么部门，无论什么业务，信息化工作都是无止境的，如果不认真做好需求控制工作，一定会陷入无边无际的需求大海之中，最终把开发团队搞得精疲力竭，而用户却总是不满意，因为他们还有那么多的需求没有实现。

另外，除了那些超出项目范围的需求，还有许多需求属于不值得实现或者技术上不能实现的，也需要需求分析者去识别从而加以控制。

1.识别超出项目范围的需求

用户的需求不能漫无边际，所有的需求都应该在项目范围之内，做软件的都知道这一点，但是，并非所有的用户都知道这一点。为了做好需求控制，需求分析者在进行需求调研与分析的过程中就要时刻将这种观点向用户灌输，只要持之以恒坚持不懈，无论多么难缠的用户都会逐渐接受你的观点。

接下来要做的是，让用户知道需求边界在什么地方。首先想到的自然是合同，市场行为当然以合同为准，合同要我们干什么我们就干什么，合同没有的我们就不干，这话说得是在理，不过在实际工作中往往是另外一个样子。先了解一下项目合同是怎么来的吧，一般来说，项目合同都是销售、售前在客户那边将什么活儿都答应了，然后才签下来的，在这种情况下很难在合同中对项目的范围进行非常明确的规定。因此，让我们先打消通过合同来控制项目范围的想法，即使有些项目的合同签得比较规范，合同中将项目的范围基本确定了，也不可能详细到每个功能的每项需求、每个规则，如果有，这恐怕是个外包开发合同，不大可能是个做信息管理系统的合同。

为了让用户理解需求边界，首先要确定好项目目标，这个目标应该是在项目启动时双方经过讨论达成的共识，后面所有的工作都应该围绕这个目标开展——这件事主要是项目经理的职责，如果这事没做或没做好，项目经理难辞其咎。对于需求分析者来说，要对这个项目的目标了然于心，如果目标不清晰，就要想办法去了解，或者促成相关人员确定好目标。当然，也没有必要把确定目标这件事看得过于严肃刻板，未必就一定要通过规范文件来确定目标，也未必一定要通过非常正式的会议讨论确定目标，关键是大家在内心深处能否达成共识，只要能达到共识，在饭桌边、电梯中的讨论都有用，不能达成共识，写下来签字画押也意义不大。

有了清晰的目标后，只要用户的需求偏离了这个目标，就立即指出来这个需求超出了边界。原则是，宁可在这个阶段的目标实现了以后再设置新目标，也不要不停地修改一个目标，甚至根本不把目标当回事随意践踏。需要注意的是，如果用户的需求超出边界，需要尽早指出来，越早越好，最好在他刚提出来时就果断、坚决地一把拍死，这样用户就能够体会到你的边界之墙，如果拖拖拉拉，态度暧昧，今天说可以做明天说不可以做，就会让用户生疑，逐渐就会觉得你这个人不是真心为他服务。这种想法一旦形成，要想再扭转过来就难了，从此以后工作会越来越难做，想砍掉任何一项需求都将是个异常艰巨的任务，许多初学者就是这样把自己与项目一起带入深渊的。

**案例：限制超出项目范围的需求**

某公司需要开发一款OA系统，小王经过需求调研后，将用户的需求做了整理，总结后大概包括以下这些需求点。

发布通知公告、新闻。

内部信息发布，包括内部消息推送，内部邮件发送，内部论坛。

内部通信，包括内部即时通信，文件传输，群聊，发送短信。

采购申请审批流程。采购单审批通过后需要推送到现有的ERP系统采购模块。

物品领用申请审批流程。物品领用单审批通过后需要推送到ERP系统库存模块。

单据报销审批流程。报销单审批通过后需要推送到现有的财务系统。

请假审批流程。

用车申请流程。

会议室申请流程。

公文管理，包括收文、发文管理。

工作计划与工作日志。

管理客户信息，设置拜访计划，登记拜访记录，登记客户服务日志，录入客户投诉记录。

小王经过分析后，向用户指出：管理客户的需求，明显属于CRM系统的范畴，这是个OA项目，明显超出了项目范围；将信息向ERP、财务系统推送的需求，由于不在这一期的目标中，建议先不考虑，在下一期再考虑如何整合这些不同系统的信息。

2.识别错误的需求

一般用户对软件并没有太深刻的理解，对信息化管理也没有那么远的预见性，对于自己所提出的需求，一旦被实现后究竟对自己、对同事、对公司的未来有什么影响也是一知半解（不排除有些公司的某些人有这种能力，但毕竟是少数，可遇而不可求）。这样就注定了，用户所提的需求不可避免地带着个人的烙印，这些五花八门的需求可能毫无逻辑性，可能前后矛盾，可能在技术上根本无法实现，可能做出来得不偿失，甚至可能如做梦般虚无缥缈。这些需求，统称为错误的需求。作为开发方，满足客户的需求是义不容辞的责任，但并不包括错误的需求。

**案例：识别错误的需求**

某公司需要开发一套生产成本管理系统，小王作为需求分析师到装配车间调研。该车间有一个装运工的岗位，主要工作是，将装配线需要的原材料或半成品从仓库领出，运送到装配线上，将装配线完工的成品送到包装车间。装运工的成本如何分摊到生产任务单呢？车间有人提出，需要根据装运工为每个生产任务单的服务时间进行分配，也就是说，假设某个装运工每天的人力成本是80元，一天服务了4个生产任务单，用时分别是1、2、3、2个小时，那么分配到这4个生产任务单的成本应该分别是10、20、30、20元。小王经过分析，得出结论，这是个得不偿失的需求。要知道计算成本本身是有成本的，如果这个成本太大，将成本算得再准也是没有意义的。想想看，车间总共就两个装运工，一个月的人力成本也就几千块钱，各个生产任务单分摊到的这个成本微乎其微，几乎不会对根据成本数据进行的决策有任何影响。可为了如此计算成本，需要记录装运工为每个生产任务单用了多长时间，有时候两个生产任务单的材料一起装运，还要考虑怎么分配，有时候两个装运工共同装运一个生产任务单，还要考虑怎么合并，而车间每天处理的生产任务单少则十几个，多则上百个，想想这是多大的工作量啊，就为了这么点儿人力成本的分摊！很明显，这是个错误的需求。

为了把问题说明得清楚形象一点，这个例子有些极端，但要知道，在实际工作中，类似的不切实际的根本不值得去实施的需求是相当多的。太多根据各种人等提出的需求开发出来的功能，最终无人问津，被束之高阁，究其原因，许多都是因为这些需求是得不偿失的需求，开发出来后，到了实施阶段才发现为了实现当初的目标，需要做多少在系统规划阶段根本意想不到的工作（不是指软件开发的工作，而是用户自己需要完成的工作）。或许不能算是意想不到只是没有好好去“想”罢了。最终只好放弃。

3.识别技术上不能实现的需求

当需求分析者面向用户时，代表的是他身后的整个研发团队，要做好需求分析，需要对自己团队的技术能力有非常清楚的了解，哪些事情能做，哪些事情不能做，哪些事情虽然貌似可以做但代价太大，等等。每个团队都有自己的技术边界，那种无所不能、包治百病的团队只有在神话中才会出现。

理解了这一点，就知道“识别技术上不能实现的需求”是需求分析者的基本素质。用户的需求天马行空无所不包，往往在一个项目里，最终实现的需求只占初始需求的一小部分，那种没有被实现的需求，大部分都是因为超出了项目范围，但确实也有或多或少的一部分是因为开发团队根本实现不了。对于技术上不能实现的需求，要尽早跟用户说清楚，有时候，因为某种原因，可能会羞于启齿，那也要想办法让用户知道、感觉到、悟到，这个需求是不切实际的，除了放弃别无选择。有时候，也许你会觉得用户的需求很合理，但研发团队就是实现不了，心理上简直无法交代，但无法交代也得交代，要知道，即使团队有引进某种新技术的打算，也很难用到当前的项目中，技术积累并非一朝一夕之功。

#### 1.3. 3.1.3　挖掘需求 <a id="3_1_3&#x3000;&#x6316;&#x6398;&#x9700;&#x6C42;"></a>

做信息系统，除了实现用户正确的需求外，还有重要的一点需要注意，就是仅实现用户提出来的需求是远远不够的，如果认为确定需求就是用户开价我们还价的过程，就是一个漫天要价就地还钱的过程，那么就大错特错了。

用户不是搞软件的，对未来的信息化管理系统一般不会有太深刻的理解，要想让他们非常有体系地提出需求，然后研发团队实现这些需求，客户的信息化管理体系就建立起来，顺利地运行下去，实际工作中不可能这么简单。在进行需求调研与分析的过程中，要注意不能被用户的需求限死，能引领用户才是高手。对于你的工作来说，满足用户提出的需求并不是目的，建立客户在相关领域的信息化管理体系才是目的。这个目的就决定了，用户提出的需求并不一定需要全部实现，用户没有提出的需求也不一定不实现，一切以能否成功建立信息化管理体系为出发点，为奋斗目标，让用户提需求只是为了实现这个目标的手段之一，那些必要的需求是要挖掘的，无论用户是否提出来，都是要实现的。

**案例：挖掘需求**

某财务部门需要开发固定资产管理软件，小王是这个项目的需求分析师。用户提出的需求大概是这样的：

（1）管理所有固定资产的档案；

（2）登记所有固定资产的领用人、存放位置；

（3）提供固定资产的折旧费录入功能，系统根据原值、录入的折旧计算现值；

（4）提供折旧费统计表。

小王经过进一步的沟通，知道用户提出录入折旧费的功能需求，是因为想自己每月计算固定资产的月折旧费后录入系统，需要提供折旧费统计表的目的是为了根据这个统计表在财务软件中制作折旧的记账凭证。了解清楚后，小王提出如下建议。

用户提供固定资产折旧的计算规则，由软件系统每个月在某个固定的时点自动计算折旧额，根本不需要用户自己计算后再录入系统。

用户提供记账凭证的生成规则，如果财务软件供应商开放接口，本系统可以在生成记账凭证后通过接口推送到财务软件，不需要用户根据折旧报表制作记账凭证。

